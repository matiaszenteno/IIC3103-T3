{"code":"(this[\"webpackJsonpsocket-react-app\"]=this[\"webpackJsonpsocket-react-app\"]||[]).push([[0],{51:function(e,t,n){\"use strict\";n.r(t);var s=n(20),c=n(9),i=n(47),a=n(43),r=n(44),o=n(13),l=n(49),j=n(48),h=n(0),b=n.n(h),d=n(22),m=n.n(d),u=n(46),O=n.n(u),p=(n(87),n(3)),f=n.n(p),g=n(89),x=n(92),k=n(90),N=n(91),v=n(1);delete f.a.Icon.Default.prototype._getIconUrl,f.a.Icon.Default.mergeOptions({className:\"icon\"});var C=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(a.a)(this,n),(s=t.call(this,e)).setCurrentNickname=function(e){s.setState({current_nickname:e})},s.setNickname=function(){s.setState({nickname:s.state.current_nickname})},s.setCurrentMessage=function(e){s.setState({current_message:e})},s.sendMessage=function(){if(s.state.nickname){var e=s.state.current_message,t={name:s.state.nickname,message:e};s.socket.emit(\"CHAT\",t)}},s.state={nickname:\"\",current_nickname:\"\",current_message:\"\",messages:[],flights:[],positions:{},paths:{}},s.setCurrentNickname=s.setCurrentNickname.bind(Object(o.a)(s)),s.setNickname=s.setNickname.bind(Object(o.a)(s)),s.setCurrentMessage=s.setCurrentMessage.bind(Object(o.a)(s)),s}return Object(r.a)(n,[{key:\"componentDidMount\",value:function(){var e=this;this.socket=O.a.connect(\"wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl\",{path:\"/flights/\",transports:[\"websocket\"]}),this.socket.on(\"CHAT\",(function(t){e.setState({messages:[].concat(Object(i.a)(e.state.messages),[t])})})),this.socket.on(\"FLIGHTS\",(function(t){e.setState({flights:t})})),this.socket.on(\"POSITION\",(function(t){e.setState((function(e){return{positions:Object(c.a)(Object(c.a)({},e.positions),{},Object(s.a)({},t.code,t.position))}})),e.socket.emit(\"FLIGHTS\",{})}))}},{key:\"render\",value:function(){var e=this,t=this.state.messages.map((function(e,t){return Object(v.jsx)(\"li\",{children:Object(v.jsxs)(\"b\",{children:[e.name,\": \",e.message]})},t)})),n=this.state.flights.map((function(e,t){return Object(v.jsx)(\"li\",{children:Object(v.jsxs)(\"div\",{className:\"flight-info\",children:[Object(v.jsx)(\"p\",{className:\"flight-info-line\",children:Object(v.jsxs)(\"b\",{children:[\"VUELO \",e.code]})}),Object(v.jsxs)(\"p\",{className:\"flight-info-line\",children:[Object(v.jsx)(\"b\",{children:\"Aerol\\xednea:\"}),\" \",e.airline]}),Object(v.jsxs)(\"p\",{className:\"flight-info-line\",children:[Object(v.jsx)(\"b\",{children:\"Origen:\"}),\" \",e.origin]}),Object(v.jsxs)(\"p\",{className:\"flight-info-line\",children:[Object(v.jsx)(\"b\",{children:\"Destino:\"}),\" \",e.destination]}),Object(v.jsxs)(\"p\",{className:\"flight-info-line\",children:[Object(v.jsx)(\"b\",{children:\"Avi\\xf3n:\"}),\" \",e.plane]}),Object(v.jsxs)(\"p\",{className:\"flight-info-line\",children:[Object(v.jsx)(\"b\",{children:\"Asientos:\"}),\" \",e.seats]}),Object(v.jsx)(\"p\",{className:\"flight-info-line\",children:Object(v.jsx)(\"b\",{children:\"Pasajeros:\"})}),e.passengers.map((function(e,t){return Object(v.jsxs)(\"p\",{children:[e.name,\", \",e.age,\" a\\xf1os.\"]},t)}))]})},t)}));return Object(v.jsxs)(\"div\",{children:[Object(v.jsx)(\"div\",{className:\"title-container\",children:Object(v.jsx)(\"h1\",{children:\"Informaci\\xf3n Vuelos\"})}),Object(v.jsxs)(\"div\",{className:\"general-container\",children:[Object(v.jsxs)(\"div\",{className:\"base-container\",children:[Object(v.jsx)(\"div\",{className:\"map-container\",children:Object(v.jsx)(\"div\",{children:Object(v.jsxs)(g.a,{className:\"map\",zoom:5,center:[-30,-70],children:[Object(v.jsx)(x.a,{attribution:'\\xa9 <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors',url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"}),Object.keys(this.state.positions).map((function(t,n){return Object(v.jsx)(k.a,{position:e.state.positions[t],children:Object(v.jsx)(N.a,{children:t})},t)}))]})})}),Object(v.jsxs)(\"div\",{className:\"chat-container\",children:[Object(v.jsx)(\"h2\",{children:\"Centro de Control\"}),Object(v.jsxs)(\"div\",{className:\"nickname-container\",children:[Object(v.jsx)(\"input\",{type:\"text\",placeholder:\"Ingresa tu nombre\",onChange:function(t){return e.setCurrentNickname(t.target.value)}}),Object(v.jsx)(\"button\",{onClick:function(){return e.setNickname()},children:\"Ingresar\"})]}),Object(v.jsxs)(\"div\",{className:\"messages-container\",children:[Object(v.jsxs)(\"div\",{className:\"messages-input-container\",children:[Object(v.jsx)(\"input\",{type:\"text\",placeholder:\"Ingresa tu mensaje\",onChange:function(t){return e.setCurrentMessage(t.target.value)}}),Object(v.jsx)(\"button\",{onClick:function(){return e.sendMessage()},children:\"Enviar\"})]}),t]})]})]}),Object(v.jsx)(\"div\",{className:\"info-container\",children:Object(v.jsx)(\"div\",{className:\"flights-info\",children:n})})]})]})}}]),n}(b.a.Component);m.a.render(Object(v.jsx)(C,{}),document.getElementById(\"root\"))},87:function(e,t,n){}},[[51,1,2]]]);","name":"static/js/main.1edfe224.chunk.js","map":{"version":3,"sources":["static/js/main.1edfe224.chunk.js"],"names":["this","push","51","module","__webpack_exports__","__webpack_require__","r","_Users_matiaszenteno_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","_Users_matiaszenteno_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__","_Users_matiaszenteno_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","_Users_matiaszenteno_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","_Users_matiaszenteno_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__","_Users_matiaszenteno_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","_Users_matiaszenteno_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__","_Users_matiaszenteno_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_7__","react__WEBPACK_IMPORTED_MODULE_8__","react__WEBPACK_IMPORTED_MODULE_8___default","n","react_dom__WEBPACK_IMPORTED_MODULE_9__","react_dom__WEBPACK_IMPORTED_MODULE_9___default","socket_io_client__WEBPACK_IMPORTED_MODULE_10__","socket_io_client__WEBPACK_IMPORTED_MODULE_10___default","leaflet__WEBPACK_IMPORTED_MODULE_12__","leaflet__WEBPACK_IMPORTED_MODULE_12___default","react_leaflet__WEBPACK_IMPORTED_MODULE_13__","react_leaflet__WEBPACK_IMPORTED_MODULE_14__","react_leaflet__WEBPACK_IMPORTED_MODULE_15__","react_leaflet__WEBPACK_IMPORTED_MODULE_16__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__","a","Icon","Default","prototype","_getIconUrl","mergeOptions","className","App","_React$Component","Object","_super","props","_this","call","setCurrentNickname","nickname","setState","current_nickname","setNickname","state","setCurrentMessage","message","current_message","sendMessage","body","name","socket","emit","messages","flights","positions","paths","bind","key","value","_this2","connect","path","transports","on","concat","position","prevState","code","_this3","map","index","children","flight","passenger","age","zoom","center","attribution","url","keys","type","placeholder","onChange","e","target","onClick","Component","render","document","getElementById","87","exports"],"mappings":"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"},"input":"(this[\"webpackJsonpsocket-react-app\"] = this[\"webpackJsonpsocket-react-app\"] || []).push([[0],{\n\n/***/ 51:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Users_matiaszenteno_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20);\n/* harmony import */ var _Users_matiaszenteno_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(9);\n/* harmony import */ var _Users_matiaszenteno_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(47);\n/* harmony import */ var _Users_matiaszenteno_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(43);\n/* harmony import */ var _Users_matiaszenteno_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(44);\n/* harmony import */ var _Users_matiaszenteno_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(13);\n/* harmony import */ var _Users_matiaszenteno_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(49);\n/* harmony import */ var _Users_matiaszenteno_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(48);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(22);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(46);\n/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(socket_io_client__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _index_css__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(87);\n/* harmony import */ var _index_css__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_index_css__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(3);\n/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(leaflet__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var react_leaflet__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(89);\n/* harmony import */ var react_leaflet__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(92);\n/* harmony import */ var react_leaflet__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(90);\n/* harmony import */ var react_leaflet__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(91);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(1);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__);\ndelete leaflet__WEBPACK_IMPORTED_MODULE_12___default.a.Icon.Default.prototype._getIconUrl;leaflet__WEBPACK_IMPORTED_MODULE_12___default.a.Icon.Default.mergeOptions({className:'icon'});var App=/*#__PURE__*/function(_React$Component){Object(_Users_matiaszenteno_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])(App,_React$Component);var _super=Object(_Users_matiaszenteno_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"])(App);function App(props){var _this;Object(_Users_matiaszenteno_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(this,App);_this=_super.call(this,props);_this.setCurrentNickname=function(nickname){_this.setState({current_nickname:nickname});};_this.setNickname=function(){_this.setState({nickname:_this.state.current_nickname});};_this.setCurrentMessage=function(message){_this.setState({current_message:message});};_this.sendMessage=function(){if(_this.state.nickname){var body=_this.state.current_message;var message={name:_this.state.nickname,message:body};_this.socket.emit('CHAT',message);}};_this.state={nickname:'',current_nickname:'',current_message:'',messages:[],flights:[],positions:{},paths:{}};_this.setCurrentNickname=_this.setCurrentNickname.bind(Object(_Users_matiaszenteno_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(_this));_this.setNickname=_this.setNickname.bind(Object(_Users_matiaszenteno_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(_this));_this.setCurrentMessage=_this.setCurrentMessage.bind(Object(_Users_matiaszenteno_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(_this));return _this;}Object(_Users_matiaszenteno_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.socket=socket_io_client__WEBPACK_IMPORTED_MODULE_10___default.a.connect('wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl',{path:'/flights/',transports:['websocket']});this.socket.on('CHAT',function(message){_this2.setState({messages:[].concat(Object(_Users_matiaszenteno_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_this2.state.messages),[message])});});this.socket.on('FLIGHTS',function(flights){_this2.setState({flights:flights});});this.socket.on('POSITION',function(position){_this2.setState(function(prevState){return{positions:Object(_Users_matiaszenteno_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(Object(_Users_matiaszenteno_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])({},prevState.positions),{},Object(_Users_matiaszenteno_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({},position.code,position.position))};});_this2.socket.emit('FLIGHTS',{});});}},{key:\"render\",value:function render(){var _this3=this;var messages=this.state.messages.map(function(message,index){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsxs\"])(\"b\",{children:[message.name,\": \",message.message]})},index);});var flights=this.state.flights.map(function(flight,index){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsxs\"])(\"div\",{className:\"flight-info\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsx\"])(\"p\",{className:\"flight-info-line\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsxs\"])(\"b\",{children:[\"VUELO \",flight['code']]})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsxs\"])(\"p\",{className:\"flight-info-line\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsx\"])(\"b\",{children:\"Aerol\\xEDnea:\"}),\" \",flight['airline']]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsxs\"])(\"p\",{className:\"flight-info-line\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsx\"])(\"b\",{children:\"Origen:\"}),\" \",flight['origin']]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsxs\"])(\"p\",{className:\"flight-info-line\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsx\"])(\"b\",{children:\"Destino:\"}),\" \",flight['destination']]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsxs\"])(\"p\",{className:\"flight-info-line\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsx\"])(\"b\",{children:\"Avi\\xF3n:\"}),\" \",flight['plane']]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsxs\"])(\"p\",{className:\"flight-info-line\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsx\"])(\"b\",{children:\"Asientos:\"}),\" \",flight['seats']]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsx\"])(\"p\",{className:\"flight-info-line\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsx\"])(\"b\",{children:\"Pasajeros:\"})}),flight['passengers'].map(function(passenger,key){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsxs\"])(\"p\",{children:[passenger.name,\", \",passenger.age,\" a\\xF1os.\"]},key);})]})},index);});return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsx\"])(\"div\",{className:\"title-container\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsx\"])(\"h1\",{children:\"Informaci\\xF3n Vuelos\"})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsxs\"])(\"div\",{className:\"general-container\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsxs\"])(\"div\",{className:\"base-container\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsx\"])(\"div\",{className:\"map-container\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsxs\"])(react_leaflet__WEBPACK_IMPORTED_MODULE_13__[/* MapContainer */ \"a\"],{className:\"map\",zoom:5,center:[-30,-70],children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsx\"])(react_leaflet__WEBPACK_IMPORTED_MODULE_14__[/* TileLayer */ \"a\"],{attribution:\"\\xA9 <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"}),Object.keys(this.state.positions).map(function(key,index){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsx\"])(react_leaflet__WEBPACK_IMPORTED_MODULE_15__[/* Marker */ \"a\"],{position:_this3.state.positions[key],children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsx\"])(react_leaflet__WEBPACK_IMPORTED_MODULE_16__[/* Popup */ \"a\"],{children:key})},key);})]})})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsxs\"])(\"div\",{className:\"chat-container\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsx\"])(\"h2\",{children:\"Centro de Control\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsxs\"])(\"div\",{className:\"nickname-container\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Ingresa tu nombre\",onChange:function onChange(e){return _this3.setCurrentNickname(e.target.value);}}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsx\"])(\"button\",{onClick:function onClick(){return _this3.setNickname();},children:\"Ingresar\"})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsxs\"])(\"div\",{className:\"messages-container\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsxs\"])(\"div\",{className:\"messages-input-container\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Ingresa tu mensaje\",onChange:function onChange(e){return _this3.setCurrentMessage(e.target.value);}}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsx\"])(\"button\",{onClick:function onClick(){return _this3.sendMessage();},children:\"Enviar\"})]}),messages]})]})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsx\"])(\"div\",{className:\"info-container\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsx\"])(\"div\",{className:\"flights-info\",children:flights})})]})]});}}]);return App;}(react__WEBPACK_IMPORTED_MODULE_8___default.a.Component);react_dom__WEBPACK_IMPORTED_MODULE_9___default.a.render(/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__[\"jsx\"])(App,{}),document.getElementById('root'));\n\n/***/ }),\n\n/***/ 87:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[51,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/matiaszenteno/app/src/index.js","/Users/matiaszenteno/app/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/matiaszenteno/app/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/matiaszenteno/app/node_modules/postcss-loader/src/index.js??postcss!/Users/matiaszenteno/app/src/index.css"],"names":["Leaflet","Icon","Default","prototype","_getIconUrl","mergeOptions","className","App","props","setCurrentNickname","nickname","setState","current_nickname","setNickname","state","setCurrentMessage","message","current_message","sendMessage","body","name","socket","emit","messages","flights","positions","paths","bind","io","connect","path","transports","on","position","prevState","code","map","index","flight","passenger","key","age","Object","keys","e","target","value","React","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport io from \"socket.io-client\";\n\nimport './index.css';\n\nimport Leaflet from 'leaflet';\nimport { MapContainer, TileLayer, Marker, Popup, Polyline } from 'react-leaflet';\n\ndelete Leaflet.Icon.Default.prototype._getIconUrl;\n\nLeaflet.Icon.Default.mergeOptions({\n  className: 'icon',\n});\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      nickname: '',\n      current_nickname: '',\n      current_message: '',\n      messages: [],\n      flights: [],\n      positions: {},\n      paths: {},\n    }\n    this.setCurrentNickname = this.setCurrentNickname.bind(this);\n    this.setNickname = this.setNickname.bind(this);\n    this.setCurrentMessage = this.setCurrentMessage.bind(this);\n  }\n\n  componentDidMount () {\n    this.socket = io.connect('wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl', {\n      path: '/flights/',\n      transports: ['websocket'],\n    });\n\n    this.socket.on('CHAT', message => {\n      this.setState({ messages: [...this.state.messages, message]})\n    });\n\n    this.socket.on('FLIGHTS', flights => {\n      this.setState({ flights: flights})\n    });\n\n    this.socket.on('POSITION', position => {\n      this.setState(prevState => ({\n        positions: {\n            ...prevState.positions,\n            [position.code]: position.position,\n        },\n      }));\n      this.socket.emit('FLIGHTS', {})\n    });\n  }\n\n  setCurrentNickname = nickname => {\n    this.setState({ current_nickname: nickname})\n  }\n\n  setNickname = () => {\n    this.setState({ nickname: this.state.current_nickname})\n  }\n\n  setCurrentMessage = message => {\n    this.setState({ current_message: message})\n  }\n\n  sendMessage = () => {\n    if (this.state.nickname) {\n      const body = this.state.current_message\n      const message = {\n        name: this.state.nickname,\n        message: body\n      }\n      this.socket.emit('CHAT', message)\n    }\n  }\n\n  render() {\n    const messages = this.state.messages.map((message, index) => {\n      return <li key={index}>\n        <b>{message.name}: {message.message}</b>\n      </li>\n    });\n\n    const flights = this.state.flights.map((flight, index) => {\n      return <li key={index}>\n        <div className=\"flight-info\">\n          <p className=\"flight-info-line\"><b>VUELO {flight['code']}</b></p>\n          <p className=\"flight-info-line\"><b>Aerolínea:</b> {flight['airline']}</p>\n          <p className=\"flight-info-line\"><b>Origen:</b> {flight['origin']}</p>\n          <p className=\"flight-info-line\"><b>Destino:</b> {flight['destination']}</p>\n          <p className=\"flight-info-line\"><b>Avión:</b> {flight['plane']}</p>\n          <p className=\"flight-info-line\"><b>Asientos:</b> {flight['seats']}</p>\n          <p className=\"flight-info-line\"><b>Pasajeros:</b></p>\n          {flight['passengers'].map((passenger, key) => (\n            <p key={key}>\n              {passenger.name}, {passenger.age} años.\n            </p>\n          ))}\n        </div>     \n      </li>\n    });\n\n    return(\n      <div>\n        <div className=\"title-container\">\n          <h1>Información Vuelos</h1>\n        </div>\n        <div className=\"general-container\">\n          <div className=\"base-container\">\n            <div className=\"map-container\">\n              <div>\n                <MapContainer className=\"map\" zoom={5} center={[-30, -70]} >\n                  <TileLayer\n                    attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                    url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                  />\n                  {Object.keys(this.state.positions).map((key, index) => (\n                    <Marker key={key} position={this.state.positions[key]}>\n                      <Popup>{key}</Popup>\n                    </Marker>\n                  ))}\n                </MapContainer>\n              </div>\n            </div>\n\n            <div className=\"chat-container\">\n              <h2>Centro de Control</h2>\n\n              <div className=\"nickname-container\">\n                <input\n                  type=\"text\"\n                  placeholder='Ingresa tu nombre'\n                  onChange={(e) => this.setCurrentNickname(e.target.value)}>\n                </input>\n                <button onClick={() => this.setNickname()}>\n                  Ingresar\n                </button>\n              </div>\n\n              <div className=\"messages-container\">\n                <div className=\"messages-input-container\">\n                  <input\n                    type=\"text\"\n                    placeholder='Ingresa tu mensaje'\n                    onChange={(e) => this.setCurrentMessage(e.target.value)}>\n                  </input>\n                  <button onClick={() => this.sendMessage()}>\n                    Enviar\n                  </button>\n                </div>\n                {messages}\n              </div>\n            </div>\n          </div>\n          <div className=\"info-container\">\n            <div className=\"flights-info\">\n              {flights}\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nReactDOM.render(<App/>, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin"]}}